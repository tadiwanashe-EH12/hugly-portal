datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id               String   @id @default(cuid())
  email            String   @unique
  passwordHash     String
  firstName        String
  lastName         String
  idNumber         String?
  gender           String?
  dateOfBirth      DateTime?
  phone            String?
  address          String?
  role             String?
  department       String?
  companyName      String?
  companyAddress   String?
  acceptedTermsAt  DateTime?
  emailVerifiedAt  DateTime?
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt

  AuditLogs        AuditLog[]
}

model AuditLog {
  id        String   @id @default(cuid())
  userId    String?
  user      User?    @relation(fields: [userId], references: [id])
  action    String
  ip        String?
  userAgent String?
  meta      Json?
  createdAt DateTime @default(now())
}